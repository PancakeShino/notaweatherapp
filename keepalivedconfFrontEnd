vrrp_instance VI_FRONTEND {
    state MASTER                      # Use "BACKUP" on the backup machine
    interface eth0                    # Network interface
    virtual_router_id 10              # Unique ID for the front-end
    priority 101                      # Lower on backup (e.g., 100)
    advert_int 1

    authentication {
        auth_type PASS
        auth_pass 1234
    }

    virtual_ipaddress {
         10.243.232.158                # Front-end VIP
    }

    track_script {
        check_apache                  # Health check for Apache
    }
}

vrrp_script check_apache {
    script "/etc/keepalived/check_apache.sh"  # Custom health check script
    interval 2
    weight -20
}
